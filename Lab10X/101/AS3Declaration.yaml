---  # YAML version of AS3Declaration.json
class: AS3
action: deploy
persist: true
declaration:
  class: ADC
  schemaVersion: 3.12.0
  id: 123abc
  label: Sample 02
  remark: Slightly modified HTTPS sample declaration from the docs
  SampleTenant:  # Tenant configuration
    class: Tenant
    App1:  # First Application
      class: Application
      template: https
      serviceMain:
        class: Service_HTTPS
        virtualAddresses:
        - 198.18.2.11
        pool: web_pool
        serverTLS: webtls  # serverTLS means client-ssl profile
        # clientTLS (which is server-ssl) is not used -> SSL/TLS offloading
      web_pool:
        class: Pool
        monitors:
        - http
        members:
        - servicePort: 80  # all pool members use port 80
          serverAddresses:
          - 192.0.2.12
          - 192.0.2.13
          - 192.0.2.14
      webtls:
        class: TLS_Server
        certificates:
        - certificate: webcert
      webcert:
        class: Certificate
        remark: self-signed RSA certificate
        certificate: |  # using in-line PEM
          -----BEGIN CERTIFICATE-----
          MIIDmjCCAoKgAwIBAgIJALEkf97t1dr+MA0GCSqGSIb3DQEBCwUAMFYxCzAJBgNV
          BAYTAkRFMRYwFAYDVQQKDA1FeGFtcGxlIENvcnAuMRUwEwYDVQQLDAxJbmZvU2Vj
          IEd1eXMxGDAWBgNVBAMMD3d3dy5leGFtcGxlLmNvbTAeFw0yMDAxMjcwNjMwNTNa
          Fw0yMDAyMjYwNjMwNTNaMFYxCzAJBgNVBAYTAkRFMRYwFAYDVQQKDA1FeGFtcGxl
          IENvcnAuMRUwEwYDVQQLDAxJbmZvU2VjIEd1eXMxGDAWBgNVBAMMD3d3dy5leGFt
          cGxlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALTR+F1riHvm
          NDj4ukcW5dq2ZD20bcNkm/2VjP33nk8hgqqrBB1MwFiVGO0ekLdtkBwt2BMXdYnn
          E26S1ObO23sKU5+ij4Lb6xamk4Ksqlooz/GzxImZx1NDaqf27O//g6H+DaKUPvQk
          i8ctgQGfh8utA7fZiDbhcZtJ8ggA9ZJUaIp5LdQ7dZamxmyuONQoYkPgr5Fkn21n
          haITXA/Nod8NA2lQaEcN/TEwRTC9AV+CJ+RPykRiG5JdYwwx2/PeUwu4h5JVT+kE
          7uK0Kji/nYWvynZ1hc/czN+IjpjEpbkLWhWxFZMrDglSePs3qKsPCvdcVvfmR8IZ
          sMYJovwixAkCAwEAAaNrMGkwDAYDVR0TAQH/BAIwADAOBgNVHQ8BAf8EBAMCBaAw
          JwYDVR0RBCAwHoILZXhhbXBsZS5jb22CD3d3dy5leGFtcGxlLmNvbTAgBgNVHSUB
          Af8EFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBACy7
          pfRVyrL1Im23C7kBmawnS5xnM1SfLxxbjfBgwZ01CJRYqVYPtpGTl9238lEsWrqh
          rzl10Zmanrvu7wtEr+DgctpCJJ/ZefeWKKioj/xA9HAmTf9FN7OYmORVQVsCedCM
          /mmp/DHfZs0U0jaZg3zfIpM6f+ob1gnrRCw8I1USJlvUke74m4g3PR9/8cWC5+nP
          v6Rdzf6P0DV5iVwvbY76aLIMZNBapR/NLaDW8hFXTRaaKvRVDKSyWxmtGnZMvDff
          2FWMET/01ewcg2oiyzT1xu22CzjAVRhswBEFJf5uGMJ2JV8B/t+G9RAICRL7U4aB
          YcsmTF2OULrtEJ415gM=
          -----END CERTIFICATE-----
        privateKey: |  # It's a bad practice to keep cleartext secrets in git
          -----BEGIN PRIVATE KEY-----
          MIIEwAIBADANBgkqhkiG9w0BAQEFAASCBKowggSmAgEAAoIBAQC00fhda4h75jQ4
          +LpHFuXatmQ9tG3DZJv9lYz9955PIYKqqwQdTMBYlRjtHpC3bZAcLdgTF3WJ5xNu
          ktTmztt7ClOfoo+C2+sWppOCrKpaKM/xs8SJmcdTQ2qn9uzv/4Oh/g2ilD70JIvH
          LYEBn4fLrQO32Yg24XGbSfIIAPWSVGiKeS3UO3WWpsZsrjjUKGJD4K+RZJ9tZ4Wi
          E1wPzaHfDQNpUGhHDf0xMEUwvQFfgifkT8pEYhuSXWMMMdvz3lMLuIeSVU/pBO7i
          tCo4v52Fr8p2dYXP3MzfiI6YxKW5C1oVsRWTKw4JUnj7N6irDwr3XFb35kfCGbDG
          CaL8IsQJAgMBAAECggEBAJ/LHq2QJiE4ItZmGFhSh/ZsUNGm7YlLE/9ZdivJ9AEC
          IDMqxowOE700pb6G0GUJUd1VNipJBPpFVwrUf4kpLRTi31unkSOXrX1q39kPNcxP
          XNTAhOMFHv0aCts8f87oAy/ZD7upPqkK0uvF7se8b4ky8KI8fv/g40DUbCtejaYt
          rXIOAz85NKZk2OPjzXAAn0sdkrPo2B+URha7PZ6u2VKBVf18bkN6yspvgBOJf3k7
          8Xx6EhjCOWIjaH5oXx/uQXVynB5CDNbjTmK4gGYUW9jOWj2Y7mj8u39Sjs4BLaZY
          oGpT9eQbEdIaAIfyn0Jv+nq/GY5nRbO3+3xK0m6JGrECgYEA3dwTtINh1kYNxCXG
          JTw9INMloGYjuAfF7s8zp/BbyfBfAGr8EpilBhw3wuz7TfrW2xAHE302+Nz4EsG4
          KWfXvO8+wLrbmwwGqwogcjqq9++giHf+j9Ks6OoB/1nRykoQQu4Lyp4GxEJwTyzB
          yqc0Pn4dkejvsvGmN0dpytLja28CgYEA0KUv5TdVsFxiV9S9Gzt+D+9x7Gtvz5RA
          8Er5NyWGWmkW9m16UGmuH1FkvU4XyveiZQhJANAGcEE/Sc/NZDhECeLjm2DmBd9Y
          GG5Eda2csSBm59cFxL1T8H6Yenx1zXM7WQ5FqBB0TYmn268myN05vY6CGMm4u8T8
          ih0EK7bobAcCgYEAjN/Hq2GZaEPHTftmXBJqBkPMqpLwr1RQPJlZBZQ71HhK+qr0
          MKK4dq7IQX/U+ukCMMt2kst5coBtDQvw8mm7tX587Eg6VbNHMKgXfjD+iryfxMfc
          3lo57RNZ/Vh9O+PXe4hH+HprdYdyZPPYgeO16tCN2i58tbV3g7ZW2LEcMwUCgYEA
          zNmyibFnj01VPPjhZpBluA2W49GkKMFddM+Xmh5cp/3QDsj0M2lfDN6kMv0ufRff
          OKUG0CZue96D3duJxCE+JBrA77gWf6OGYg45ZvS7CGlQv8Wsozpj5JbW7EOwgbPm
          jAxoNZdaKRrDVPzF7qbN3x/A+cdseebxMEVG6AigcBcCgYEApt7YeqDFXfSkOKK4
          lVDQvxQZao+d2C2m0qUax1i/kKGSbQB7aAqvHk4pFWsncgOi3FGwuWdK9tBMibLC
          wquKuGRt9brR22c609stXXHx8hk9QpGT9bN2ePqZeQvGGrOn26WK8aAqToOR58JD
          YLUCvuhlaO91VUMVDKlBD+T5y3k=
          -----END PRIVATE KEY-----
